<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <title>Home page</title>
        <link rel="stylesheet" href="http://fonts.googleapis.com/icon?family=Material+Icons" />
        <link rel="stylesheet" href="/webjars/materializecss/0.97.7/css/materialize.min.css" />
    </head>
    <body>
    <div class="container">
        <h1>Backoffice Control Rede</h1>
        <h2>Permiss√µes de PV</h2>
        <form method="get" th:action="@{/}">			     
        	<div class="row">
	       		<div class="input-field col s3">
	       			<input id="pv-code" name="code" th:value="${code}" type="text"/>
		         	<label for="pv-code">PV Code</label>
	       		</div>
                <div class="input-field col s5">
                    <input id="email" name="email" type="email" th:value="${email}"/>
                    <label for="email">E-mail</label>
                </div>
                <div class="input-field col s2">
                    <select id="acquirer" name="acquirer">
                        <option value="NULL" th:selected="${acquirer.toString() == 'NULL'}">Select...</option>
                        <option value="CIELO" th:selected="${acquirer.toString() == 'CIELO'}">CIELO</option>
                    </select>
                    <label for="acquirer">Adquirente</label>
                </div>
                <div class="input-field col s2">
                    <button class="btn waves-effect waves-light" type="submit">FILTER
                        <i class="material-icons right">search</i>
                    </button>
                </div>
	       	</div>
        </form>

        <ul class="pagination" th:unless="${pvPermissions.totalPages == 0}">
            <li th:class="${pvPermissions.number eq 0} ? 'disabled' : 'waves-effect'">
                <a th:if="${not pvPermissions.isFirst()}" th:href="@{${'/'}(page=${pvPermissions.number-1},size=${pvPermissions.size}, code=${code}, acquirer=${acquirer})}" class="material-icons">chevron_left</a>
                <a th:if="${pvPermissions.isFirst()}" href="javascript:void(0);" class="material-icons">chevron_left</a>
            </li>
            <li th:each="pageNo : ${#numbers.sequence(0, pvPermissions.totalPages - 1)}" th:class="${pvPermissions.number eq pageNo} ? 'active' : ''">
                <a th:if="${pvPermissions.number  eq pageNo}" href="javascript:void(0);">
                    <span th:text="${pageNo}"></span>
                </a>
                <a th:if="${not (pvPermissions.number eq pageNo)}" th:href="@{${'/'}(page=${pageNo},size=${pvPermissions.size}, code=${code}, acquirer=${acquirer})}">
                    <span th:text="${pageNo}"></span>
                </a>
            </li>
            <li th:class="${pvPermissions.number + 1 ge pvPermissions.totalPages} ? 'disabled' : 'waves-effect'">
                <a th:if="${not pvPermissions.isLast()}" th:href="@{${'/'}(page=${pvPermissions.number+1},size=${pvPermissions.size}, code=${code}, acquirer=${acquirer})}" class="material-icons">chevron_right</a>
                <a th:if="${pvPermissions.isLast()}" href="javascript:void(0);" class="material-icons">chevron_right</a>
            </li>
        </ul>
        <p th:unless="${pvPermissions.totalPages > 0}">No result.</p>
        <table class="striped" th:unless="${pvPermissions.totalPages == 0}">
            <thead>
            <tr>
                <th>Acquirer</th>
                <th>Code</th>
                <th>E-mail</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="permission: ${pvPermissions}">
                <td th:text="${permission.pv.acquirer}"></td>
                <td th:text="${permission.pv.code}"></td>
                <td th:text="${permission.user.email}"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <script type="application/javascript" src="/webjars/jquery/3.1.1-1/jquery.min.js"></script>
    <script type="application/javascript" src="/webjars/materializecss/0.97.7/js/materialize.min.js"></script>
    <script type="application/javascript">$('select').material_select()</script>
    </body>
</html>
